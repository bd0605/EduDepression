<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ˆæ¥­ç”˜ç‰¹åœ–å°ˆæ¡ˆæ™‚ç¨‹ç®¡ç†å·¥å…·</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        // Tailwind é…ç½®ï¼šå®šç¾©è¨­è¨ˆç³»çµ±æ ¸å¿ƒè®Šæ•¸
        tailwind.config = {
            theme: {
                extend: {
                    // è‰²å½©ç³»çµ±ï¼šå°ˆæ¥­è—è‰²èª¿é…è‰²æ–¹æ¡ˆï¼Œç¢ºä¿ WCAG AA å°æ¯”åº¦
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe', 
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a'
                        },
                        success: '#10b981',
                        warning: '#f59e0b',
                        error: '#ef4444'
                    },
                    // å­—é«”ç³»çµ±ï¼šå¤šèªè¨€æ”¯æ´çš„å­—é«”æ£§
                    fontFamily: {
                        'sans': ['Inter', 'Noto Sans TC', 'system-ui', 'sans-serif']
                    },
                    // é–“è·åˆ»åº¦ï¼šç¢ºä¿è¦–è¦ºç¯€å¥ä¸€è‡´æ€§
                    spacing: {
                        '18': '4.5rem',
                        '88': '22rem',
                        '128': '32rem'
                    },
                    // é™°å½±ç³»çµ±ï¼šå¢å¼·å±¤æ¬¡æ„Ÿ
                    boxShadow: {
                        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)'
                    }
                }
            }
        }
    </script>
    
    <style>
        /* è‡ªå®šç¾© CSSï¼šè£œå¼· Tailwind ç„¡æ³•è¦†è“‹çš„ç´°ç¯€ */
        
        /* ç”˜ç‰¹åœ–å®¹å™¨ï¼šç¢ºä¿å¹³æ»‘æ²å‹•é«”é©— */
        .gantt-container {
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: #cbd5e1 #f1f5f9;
        }
        
        .gantt-container::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        .gantt-container::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        
        .gantt-container::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        .gantt-container::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* ä»»å‹™æ¢æ¨£å¼ï¼šè¦–è¦ºåŒ–å°ˆæ¡ˆé€²åº¦ */
        .task-bar {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
        }
        
        .task-bar:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }
        
        /* é€²åº¦æ¢ï¼šæ¼¸å±¤æ•ˆæœå¢å¼·è¦–è¦ºå›é¥‹ */
        .progress-fill {
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
            height: 100%;
            border-radius: inherit;
            transition: width 0.5s ease-out;
        }
        
        /* æ‹–æ‹½æ™‚çš„è¦–è¦ºå›é¥‹ */
        .dragging {
            opacity: 0.7;
            transform: rotate(2deg) scale(1.02);
            z-index: 1000;
        }
        
        /* ç¶²æ ¼ç·šï¼šå¢å¼·æ™‚é–“è»¸å¯è®€æ€§ */
        .grid-line {
            stroke: #e2e8f0;
            stroke-width: 1;
            opacity: 0.6;
        }
        
        .grid-line.major {
            stroke: #cbd5e1;
            stroke-width: 1.5;
            opacity: 0.8;
        }
        
        /* è¼‰å…¥å‹•ç•«ï¼šæå‡ç­‰å¾…é«”é©— */
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .loading {
            animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* éš±è—å½©è›‹æŒ‰éˆ•ï¼šéš±è”½ä½†æ˜“ç™¼ç¾ */
        .easter-egg {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            border-radius: 50%;
            opacity: 0.3;
            transition: all 0.3s ease;
            cursor: pointer;
            z-index: 9999;
        }
        
        .easter-egg:hover {
            opacity: 1;
            transform: scale(1.2) rotate(360deg);
        }
        
        /* éŸ¿æ‡‰å¼å­—é«”ï¼šç¢ºä¿è·¨è¨­å‚™å¯è®€æ€§ */
        @media (max-width: 640px) {
            .text-responsive {
                font-size: 0.875rem;
                line-height: 1.25rem;
            }
        }
        
        /* è§¸æ§å„ªåŒ–ï¼šå¢å¤§é»æ“Šå€åŸŸ */
        @media (hover: none) {
            .touch-target {
                min-height: 44px;
                min-width: 44px;
            }
        }
    </style>
</head>
<body class="bg-secondary-50 font-sans antialiased">
    <!-- ä¸»è¦æ‡‰ç”¨å®¹å™¨ï¼šæ¡ç”¨ CSS Grid ä½ˆå±€ç¢ºä¿éŸ¿æ‡‰å¼é©é… -->
    <div class="min-h-screen flex flex-col">
        
        <!-- Headerï¼šå“ç‰Œæ¨™è­˜èˆ‡ä¸»è¦å°èˆª -->
        <header class="bg-white shadow-soft border-b border-secondary-200 sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo èˆ‡æ¨™é¡Œï¼šå»ºç«‹å°ˆæ¥­å“ç‰Œå°è±¡ -->
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-gantt text-white text-sm"></i>
                        </div>
                        <h1 class="text-xl font-bold text-secondary-900 tracking-tight">å°ˆæ¡ˆæ™‚ç¨‹ç®¡ç†</h1>
                    </div>
                    
                    <!-- å·¥å…·æ¬„ï¼šå¿«é€Ÿæ“ä½œæŒ‰éˆ• -->
                    <div class="flex items-center space-x-2">
                        <button id="addTaskBtn" class="touch-target inline-flex items-center px-3 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg transition-all duration-200 hover:bg-primary-700 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                            <i class="fas fa-plus mr-2"></i>
                            <span class="hidden sm:inline">æ–°å¢ä»»å‹™</span>
                        </button>
                        <button id="exportBtn" class="touch-target inline-flex items-center px-3 py-2 bg-secondary-100 text-secondary-700 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-secondary-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2">
                            <i class="fas fa-download mr-2"></i>
                            <span class="hidden sm:inline">åŒ¯å‡º</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- ä¸»è¦å…§å®¹å€åŸŸï¼šFlexbox ä½ˆå±€æ”¯æ´éŸ¿æ‡‰å¼èª¿æ•´ -->
        <main class="flex-1 flex flex-col lg:flex-row overflow-hidden">
            
            <!-- å·¦å´ä»»å‹™åˆ—è¡¨ï¼šMobile-first éŸ¿æ‡‰å¼è¨­è¨ˆ -->
            <aside class="w-full lg:w-80 bg-white border-b lg:border-b-0 lg:border-r border-secondary-200 flex flex-col">
                <!-- ä»»å‹™åˆ—è¡¨æ¨™é¡Œ -->
                <div class="p-4 border-b border-secondary-200">
                    <h2 class="text-lg font-semibold text-secondary-900 flex items-center">
                        <i class="fas fa-tasks mr-2 text-primary-500"></i>
                        ä»»å‹™åˆ—è¡¨
                    </h2>
                </div>
                
                <!-- ä»»å‹™åˆ—è¡¨å…§å®¹ï¼šå¯æ²å‹•å€åŸŸ -->
                <div class="flex-1 overflow-y-auto p-4 space-y-3" id="taskList">
                    <!-- å‹•æ…‹ç”¢ç”Ÿçš„ä»»å‹™é …ç›®å°‡æ’å…¥æ­¤è™• -->
                </div>
            </aside>
            
            <!-- å³å´ç”˜ç‰¹åœ–å€åŸŸï¼šä¸»è¦è¦–è¦ºåŒ–å…§å®¹ -->
            <section class="flex-1 flex flex-col overflow-hidden">
                <!-- ç”˜ç‰¹åœ–å·¥å…·æ¬„ï¼šæ™‚é–“ç¯„åœæ§åˆ¶ -->
                <div class="bg-white border-b border-secondary-200 p-4">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0">
                        <h2 class="text-lg font-semibold text-secondary-900 flex items-center">
                            <i class="fas fa-chart-gantt mr-2 text-primary-500"></i>
                            æ™‚ç¨‹ç”˜ç‰¹åœ–
                        </h2>
                        
                        <!-- æ™‚é–“ç¯„åœé¸æ“‡å™¨ï¼šå¢å¼·ä½¿ç”¨è€…æ§åˆ¶æ„Ÿ -->
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-secondary-600">æª¢è¦–ç¯„åœï¼š</label>
                            <select id="timeRange" class="text-sm border border-secondary-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                                <option value="week">æœ¬é€±</option>
                                <option value="month" selected>æœ¬æœˆ</option>
                                <option value="quarter">æœ¬å­£</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- ç”˜ç‰¹åœ–ä¸»é«”ï¼šSVG æ¸²æŸ“çš„æ™‚ç¨‹è¦–è¦ºåŒ– -->
                <div class="flex-1 gantt-container overflow-auto bg-white" id="ganttContainer">
                    <svg id="ganttChart" class="w-full h-full min-w-full" style="min-height: 400px;">
                        <!-- SVG å…§å®¹å°‡é€é JavaScript å‹•æ…‹ç”Ÿæˆ -->
                    </svg>
                </div>
            </section>
        </main>
    </div>
    
    <!-- ä»»å‹™è¡¨å–®æ¨¡æ…‹æ¡†ï¼šMaterial Design é¢¨æ ¼çš„æµ®å±¤è¨­è¨ˆ -->
    <div id="taskModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 scale-95 opacity-0" id="modalContent">
            <!-- æ¨¡æ…‹æ¡†æ¨™é¡Œ -->
            <div class="p-6 border-b border-secondary-200">
                <h3 class="text-xl font-semibold text-secondary-900" id="modalTitle">æ–°å¢ä»»å‹™</h3>
            </div>
            
            <!-- è¡¨å–®å…§å®¹ï¼šå®Œæ•´çš„ä»»å‹™å±¬æ€§è¼¸å…¥ -->
            <form id="taskForm" class="p-6 space-y-4">
                <!-- ä»»å‹™åç¨± -->
                <div>
                    <label class="block text-sm font-medium text-secondary-700 mb-2">ä»»å‹™åç¨±</label>
                    <input type="text" id="taskName" required 
                           class="w-full px-3 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200"
                           placeholder="è¼¸å…¥ä»»å‹™åç¨±">
                </div>
                
                <!-- æ™‚é–“ç¯„åœï¼šè¦–è¦ºåŒ–å‹å¥½çš„æ—¥æœŸé¸æ“‡ -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-secondary-700 mb-2">é–‹å§‹æ—¥æœŸ</label>
                        <input type="date" id="startDate" required
                               class="w-full px-3 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-secondary-700 mb-2">çµæŸæ—¥æœŸ</label>
                        <input type="date" id="endDate" required
                               class="w-full px-3 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200">
                    </div>
                </div>
                
                <!-- é€²åº¦æ»‘æ¡¿ï¼šç›´è§€çš„é€²åº¦æ§åˆ¶ -->
                <div>
                    <label class="block text-sm font-medium text-secondary-700 mb-2">
                        å®Œæˆé€²åº¦ï¼š<span id="progressDisplay">0%</span>
                    </label>
                    <input type="range" id="progress" min="0" max="100" value="0"
                           class="w-full h-2 bg-secondary-200 rounded-lg appearance-none cursor-pointer slider">
                </div>
                
                <!-- å„ªå…ˆç´šé¸æ“‡ï¼šè‰²å½©ç·¨ç¢¼çš„è¦–è¦ºå±¤æ¬¡ -->
                <div>
                    <label class="block text-sm font-medium text-secondary-700 mb-2">å„ªå…ˆç´š</label>
                    <select id="priority" class="w-full px-3 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200">
                        <option value="low">ä½</option>
                        <option value="medium" selected>ä¸­</option>
                        <option value="high">é«˜</option>
                    </select>
                </div>
                
                <!-- æ“ä½œæŒ‰éˆ•ï¼šæ¸…æ™°çš„è¡Œå‹•å°å‘è¨­è¨ˆ -->
                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancelBtn" 
                            class="flex-1 px-4 py-2 bg-secondary-100 text-secondary-700 rounded-lg font-medium transition-all duration-200 hover:bg-secondary-200 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2">
                        å–æ¶ˆ
                    </button>
                    <button type="submit" 
                            class="flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium transition-all duration-200 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                        å„²å­˜
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- éš±è—å½©è›‹ï¼šé©šå–œäº’å‹•å…ƒç´  -->
    <div class="easter-egg" id="easterEgg" title="é»æ“Šç²å¾—é©šå–œï¼"></div>
    
    <!-- å½©è›‹æ¨¡æ…‹æ¡†ï¼šè¶£å‘³å°éŠæˆ² -->
    <div id="easterModal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 m-4 max-w-sm text-center transform transition-all duration-500 scale-95 opacity-0" id="easterContent">
            <div class="text-6xl mb-4">ğŸ‰</div>
            <h3 class="text-2xl font-bold text-primary-600 mb-4">æ­å–œç™¼ç¾å½©è›‹ï¼</h3>
            <p class="text-secondary-600 mb-6">å°ˆæ¡ˆç®¡ç†å¤§å¸«ï¼Œæ‚¨å·²æŒæ¡äº†æ™‚é–“çš„è—è¡“ï¼</p>
            <div class="mb-6">
                <div class="text-4xl font-bold text-primary-500" id="productivityScore">95%</div>
                <div class="text-sm text-secondary-500">ç”Ÿç”¢åŠ›è©•åˆ†</div>
            </div>
            <button id="closeEasterBtn" class="px-6 py-2 bg-primary-600 text-white rounded-lg font-medium transition-all duration-200 hover:bg-primary-700">
                ç¹¼çºŒå·¥ä½œ
            </button>
        </div>
    </div>

    <script>
        // å°ˆæ¡ˆç®¡ç†å·¥å…·æ ¸å¿ƒ JavaScript
        // æ¡ç”¨æ¨¡çµ„åŒ–æ¶æ§‹ï¼Œç¢ºä¿ä»£ç¢¼å¯ç¶­è­·æ€§èˆ‡æ“´å±•æ€§
        
        class GanttChartManager {
            constructor() {
                // åˆå§‹åŒ–æ‡‰ç”¨ç‹€æ…‹èˆ‡è³‡æ–™çµæ§‹
                this.tasks = this.loadTasks(); // å¾ localStorage è¼‰å…¥ä»»å‹™
                this.currentEditingTask = null; // ç›®å‰ç·¨è¼¯çš„ä»»å‹™
                this.isDragging = false; // æ‹–æ‹½ç‹€æ…‹è¿½è¹¤
                this.timeRange = 'month'; // é è¨­é¡¯ç¤ºç¯„åœ
                
                // åˆå§‹åŒ–æ‡‰ç”¨
                this.initializeApp();
            }
            
            // æ‡‰ç”¨åˆå§‹åŒ–ï¼šè¨­å®šäº‹ä»¶ç›£è½èˆ‡åˆå§‹æ¸²æŸ“
            initializeApp() {
                this.setupEventListeners();
                this.setupEasterEgg();
                this.renderTaskList();
                this.renderGanttChart();
                this.updateDateInputs();
                
                // åˆå§‹åŒ–é€²åº¦æ»‘æ¡¿é¡¯ç¤º
                this.updateProgressDisplay();
                
                console.log('ç”˜ç‰¹åœ–å°ˆæ¡ˆç®¡ç†å·¥å…·å·²åˆå§‹åŒ–å®Œæˆ');
            }
            
            // äº‹ä»¶ç›£è½å™¨è¨­å®šï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰ä½¿ç”¨è€…äº’å‹•
            setupEventListeners() {
                // æ–°å¢ä»»å‹™æŒ‰éˆ•
                document.getElementById('addTaskBtn').addEventListener('click', () => {
                    this.openTaskModal();
                });
                
                // è¡¨å–®æäº¤è™•ç†
                document.getElementById('taskForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.saveTask();
                });
                
                // æ¨¡æ…‹æ¡†æ§åˆ¶
                document.getElementById('cancelBtn').addEventListener('click', () => {
                    this.closeTaskModal();
                });
                
                // é€²åº¦æ»‘æ¡¿å³æ™‚æ›´æ–°
                document.getElementById('progress').addEventListener('input', (e) => {
                    this.updateProgressDisplay(e.target.value);
                });
                
                // æ™‚é–“ç¯„åœé¸æ“‡
                document.getElementById('timeRange').addEventListener('change', (e) => {
                    this.timeRange = e.target.value;
                    this.renderGanttChart();
                });
                
                // åŒ¯å‡ºåŠŸèƒ½
                document.getElementById('exportBtn').addEventListener('click', () => {
                    this.exportTasks();
                });
                
                // æ¨¡æ…‹æ¡†èƒŒæ™¯é»æ“Šé—œé–‰
                document.getElementById('taskModal').addEventListener('click', (e) => {
                    if (e.target.id === 'taskModal') {
                        this.closeTaskModal();
                    }
                });
                
                // è§¸æ§èˆ‡æ»¾å‹•äº‹ä»¶å„ªåŒ–
                this.setupTouchEvents();
            }
            
            // è§¸æ§äº‹ä»¶è¨­å®šï¼šè¡Œå‹•è£ç½®æœ€ä½³åŒ–
            setupTouchEvents() {
                const ganttContainer = document.getElementById('ganttContainer');
                let touchStartX = 0;
                let touchStartY = 0;
                
                ganttContainer.addEventListener('touchstart', (e) => {
                    touchStartX = e.touches[0].clientX;
                    touchStartY = e.touches[0].clientY;
                }, { passive: true });
                
                ganttContainer.addEventListener('touchmove', (e) => {
                    // é é˜²æ„å¤–çš„é é¢æ»¾å‹•
                    const touchX = e.touches[0].clientX;
                    const touchY = e.touches[0].clientY;
                    const deltaX = Math.abs(touchX - touchStartX);
                    const deltaY = Math.abs(touchY - touchStartY);
                    
                    if (deltaX > deltaY) {
                        e.preventDefault(); // æ°´å¹³æ»¾å‹•æ™‚é˜»æ­¢å‚ç›´æ»¾å‹•
                    }
                }, { passive: false });
            }
            
            // ä»»å‹™è³‡æ–™ç®¡ç†ï¼šCRUD æ“ä½œèˆ‡æŒä¹…åŒ–
            loadTasks() {
                try {
                    const stored = localStorage.getItem('gantt-tasks');
                    return stored ? JSON.parse(stored) : this.getDefaultTasks();
                } catch (error) {
                    console.warn('è¼‰å…¥ä»»å‹™è³‡æ–™å¤±æ•—ï¼Œä½¿ç”¨é è¨­è³‡æ–™:', error);
                    return this.getDefaultTasks();
                }
            }
            
            saveTasks() {
                try {
                    localStorage.setItem('gantt-tasks', JSON.stringify(this.tasks));
                    console.log('ä»»å‹™è³‡æ–™å·²å„²å­˜è‡³ localStorage');
                } catch (error) {
                    console.error('å„²å­˜ä»»å‹™è³‡æ–™å¤±æ•—:', error);
                }
            }
            
            // é è¨­ç¤ºç¯„ä»»å‹™ï¼šå±•ç¤ºå·¥å…·åŠŸèƒ½
            getDefaultTasks() {
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(today.getDate() + 1);
                const nextWeek = new Date(today);
                nextWeek.setDate(today.getDate() + 7);
                
                return [
                    {
                        id: 1,
                        name: 'å°ˆæ¡ˆè¦åŠƒèˆ‡éœ€æ±‚åˆ†æ',
                        startDate: today.toISOString().split('T')[0],
                        endDate: tomorrow.toISOString().split('T')[0],
                        progress: 100,
                        priority: 'high'
                    },
                    {
                        id: 2,
                        name: 'UI/UX è¨­è¨ˆé–‹ç™¼',
                        startDate: tomorrow.toISOString().split('T')[0],
                        endDate: nextWeek.toISOString().split('T')[0],
                        progress: 65,
                        priority: 'medium'
                    }
                ];
            }
            
            // ä»»å‹™è¡¨å–®è™•ç†ï¼šæ–°å¢èˆ‡ç·¨è¼¯é‚è¼¯
            openTaskModal(task = null) {
                this.currentEditingTask = task;
                const modal = document.getElementById('taskModal');
                const modalContent = document.getElementById('modalContent');
                const title = document.getElementById('modalTitle');
                
                // è¨­å®šæ¨¡æ…‹æ¡†æ¨™é¡Œèˆ‡è¡¨å–®è³‡æ–™
                if (task) {
                    title.textContent = 'ç·¨è¼¯ä»»å‹™';
                    this.populateForm(task);
                } else {
                    title.textContent = 'æ–°å¢ä»»å‹™';
                    this.resetForm();
                }
                
                // é¡¯ç¤ºæ¨¡æ…‹æ¡†å‹•ç•«
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                
                // å»¶é²å‹•ç•«ç¢ºä¿å¹³æ»‘éæ¸¡
                setTimeout(() => {
                    modalContent.classList.remove('scale-95', 'opacity-0');
                    modalContent.classList.add('scale-100', 'opacity-100');
                }, 10);
                
                // è‡ªå‹•èšç„¦åˆ°ä»»å‹™åç¨±è¼¸å…¥æ¡†
                setTimeout(() => {
                    document.getElementById('taskName').focus();
                }, 200);
            }
            
            closeTaskModal() {
                const modal = document.getElementById('taskModal');
                const modalContent = document.getElementById('modalContent');
                
                // é—œé–‰å‹•ç•«
                modalContent.classList.remove('scale-100', 'opacity-100');
                modalContent.classList.add('scale-95', 'opacity-0');
                
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    this.currentEditingTask = null;
                }, 300);
            }
            
            populateForm(task) {
                document.getElementById('taskName').value = task.name;
                document.getElementById('startDate').value = task.startDate;
                document.getElementById('endDate').value = task.endDate;
                document.getElementById('progress').value = task.progress;
                document.getElementById('priority').value = task.priority;
                this.updateProgressDisplay(task.progress);
            }
            
            resetForm() {
                document.getElementById('taskForm').reset();
                this.updateDateInputs();
                this.updateProgressDisplay(0);
            }
            
            saveTask() {
                // è¡¨å–®é©—è­‰èˆ‡è³‡æ–™æ”¶é›†
                const formData = this.getFormData();
                if (!this.validateTask(formData)) {
                    return;
                }
                
                if (this.currentEditingTask) {
                    // æ›´æ–°æ—¢æœ‰ä»»å‹™
                    Object.assign(this.currentEditingTask, formData);
                } else {
                    // æ–°å¢ä»»å‹™
                    formData.id = Date.now(); // ç°¡å–®çš„ ID ç”Ÿæˆ
                    this.tasks.push(formData);
                }
                
                // å„²å­˜ä¸¦æ›´æ–°è¦–åœ–
                this.saveTasks();
                this.renderTaskList();
                this.renderGanttChart();
                this.closeTaskModal();
                
                // ä½¿ç”¨è€…å›é¥‹
                this.showNotification('ä»»å‹™å·²æˆåŠŸå„²å­˜ï¼', 'success');
            }
            
            getFormData() {
                return {
                    name: document.getElementById('taskName').value.trim(),
                    startDate: document.getElementById('startDate').value,
                    endDate: document.getElementById('endDate').value,
                    progress: parseInt(document.getElementById('progress').value),
                    priority: document.getElementById('priority').value
                };
            }
            
            validateTask(task) {
                // åŸºæœ¬é©—è­‰é‚è¼¯
                if (!task.name) {
                    this.showNotification('è«‹è¼¸å…¥ä»»å‹™åç¨±', 'error');
                    return false;
                }
                
                if (!task.startDate || !task.endDate) {
                    this.showNotification('è«‹é¸æ“‡é–‹å§‹å’ŒçµæŸæ—¥æœŸ', 'error');
                    return false;
                }
                
                if (new Date(task.startDate) > new Date(task.endDate)) {
                    this.showNotification('çµæŸæ—¥æœŸä¸èƒ½æ—©æ–¼é–‹å§‹æ—¥æœŸ', 'error');
                    return false;
                }
                
                return true;
            }
            
            deleteTask(taskId) {
                if (confirm('ç¢ºå®šè¦åˆªé™¤æ­¤ä»»å‹™å—ï¼Ÿ')) {
                    this.tasks = this.tasks.filter(task => task.id !== taskId);
                    this.saveTasks();
                    this.renderTaskList();
                    this.renderGanttChart();
                    this.showNotification('ä»»å‹™å·²åˆªé™¤', 'success');
                }
            }
            
            // è¦–åœ–æ¸²æŸ“ï¼šä»»å‹™åˆ—è¡¨èˆ‡ç”˜ç‰¹åœ–
            renderTaskList() {
                const container = document.getElementById('taskList');
                
                if (this.tasks.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-8 text-secondary-500">
                            <i class="fas fa-tasks text-4xl mb-4 opacity-50"></i>
                            <p>å°šæœªå»ºç«‹ä»»å‹™</p>
                            <p class="text-sm">é»æ“Šä¸Šæ–¹ã€Œæ–°å¢ä»»å‹™ã€é–‹å§‹ä½¿ç”¨</p>
                        </div>
                    `;
                    return;
                }
                
                container.innerHTML = this.tasks.map(task => {
                    const priorityColors = {
                        high: 'bg-red-100 text-red-800 border-red-200',
                        medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',
                        low: 'bg-green-100 text-green-800 border-green-200'
                    };
                    
                    const priorityLabels = {
                        high: 'é«˜',
                        medium: 'ä¸­',
                        low: 'ä½'
                    };
                    
                    return `
                        <div class="bg-white rounded-lg shadow-card border border-secondary-200 p-4 transition-all duration-200 hover:shadow-soft cursor-pointer" 
                             onclick="ganttManager.openTaskModal(ganttManager.tasks.find(t => t.id === ${task.id}))">
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="font-semibold text-secondary-900 text-responsive line-clamp-2">${task.name}</h3>
                                <button onclick="event.stopPropagation(); ganttManager.deleteTask(${task.id})" 
                                        class="text-secondary-400 hover:text-red-500 transition-colors duration-200 p-1 touch-target">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                            
                            <div class="space-y-2">
                                <div class="flex items-center justify-between text-sm text-secondary-600">
                                    <span><i class="fas fa-calendar mr-1"></i>${this.formatDate(task.startDate)}</span>
                                    <span><i class="fas fa-calendar-check mr-1"></i>${this.formatDate(task.endDate)}</span>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <span class="text-xs px-2 py-1 rounded-full border ${priorityColors[task.priority]}">
                                        ${priorityLabels[task.priority]}å„ªå…ˆç´š
                                    </span>
                                    <span class="text-sm font-medium text-primary-600">${task.progress}%</span>
                                </div>
                                
                                <div class="w-full bg-secondary-200 rounded-full h-2">
                                    <div class="progress-fill h-2 rounded-full" style="width: ${task.progress}%"></div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // ç”˜ç‰¹åœ– SVG æ¸²æŸ“ï¼šæ ¸å¿ƒè¦–è¦ºåŒ–é‚è¼¯
            renderGanttChart() {
                const svg = document.getElementById('ganttChart');
                const container = document.getElementById('ganttContainer');
                
                if (this.tasks.length === 0) {
                    svg.innerHTML = `
                        <text x="50%" y="50%" text-anchor="middle" fill="#94a3b8" font-size="16" font-family="Inter, sans-serif">
                            å»ºç«‹æ‚¨çš„ç¬¬ä¸€å€‹ä»»å‹™ä»¥æŸ¥çœ‹ç”˜ç‰¹åœ–
                        </text>
                    `;
                    return;
                }
                
                // è¨ˆç®—æ™‚é–“ç¯„åœèˆ‡å°ºå¯¸
                const { startDate, endDate, totalDays } = this.calculateTimeRange();
                const taskHeight = 40;
                const taskSpacing = 20;
                const headerHeight = 60;
                const leftPadding = 20;
                const dayWidth = 50;
                
                const chartWidth = Math.max(totalDays * dayWidth + leftPadding * 2, container.clientWidth);
                const chartHeight = this.tasks.length * (taskHeight + taskSpacing) + headerHeight + 40;
                
                // è¨­å®š SVG å°ºå¯¸
                svg.setAttribute('width', chartWidth);
                svg.setAttribute('height', chartHeight);
                svg.style.minWidth = chartWidth + 'px';
                
                // æ¸…ç©ºä¸¦é‡æ–°ç¹ªè£½
                svg.innerHTML = '';
                
                // ç¹ªè£½æ™‚é–“è»¸è¡¨é ­
                this.renderTimeAxis(svg, startDate, endDate, totalDays, dayWidth, headerHeight, leftPadding);
                
                // ç¹ªè£½ç¶²æ ¼ç·š
                this.renderGridLines(svg, totalDays, dayWidth, chartHeight, headerHeight, leftPadding);
                
                // ç¹ªè£½ä»»å‹™æ¢
                this.renderTaskBars(svg, startDate, totalDays, dayWidth, taskHeight, taskSpacing, headerHeight, leftPadding);
            }
            
            renderTimeAxis(svg, startDate, endDate, totalDays, dayWidth, headerHeight, leftPadding) {
                // èƒŒæ™¯å€åŸŸ
                const headerBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                headerBg.setAttribute('x', '0');
                headerBg.setAttribute('y', '0');
                headerBg.setAttribute('width', '100%');
                headerBg.setAttribute('height', headerHeight);
                headerBg.setAttribute('fill', '#f8fafc');
                headerBg.setAttribute('stroke', '#e2e8f0');
                svg.appendChild(headerBg);
                
                // æ—¥æœŸæ¨™ç±¤
                for (let i = 0; i < totalDays; i++) {
                    const currentDate = new Date(startDate);
                    currentDate.setDate(startDate.getDate() + i);
                    
                    const x = leftPadding + i * dayWidth + dayWidth / 2;
                    
                    // æ—¥æœŸæ–‡å­—
                    const dateText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    dateText.setAttribute('x', x);
                    dateText.setAttribute('y', 25);
                    dateText.setAttribute('text-anchor', 'middle');
                    dateText.setAttribute('fill', '#475569');
                    dateText.setAttribute('font-size', '12');
                    dateText.setAttribute('font-family', 'Inter, sans-serif');
                    dateText.textContent = this.formatShortDate(currentDate);
                    svg.appendChild(dateText);
                    
                    // æ˜ŸæœŸæ–‡å­—
                    const dayText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    dayText.setAttribute('x', x);
                    dayText.setAttribute('y', 45);
                    dayText.setAttribute('text-anchor', 'middle');
                    dayText.setAttribute('fill', '#94a3b8');
                    dayText.setAttribute('font-size', '10');
                    dayText.setAttribute('font-family', 'Inter, sans-serif');
                    dayText.textContent = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'][currentDate.getDay()];
                    svg.appendChild(dayText);
                }
            }
            
            renderGridLines(svg, totalDays, dayWidth, chartHeight, headerHeight, leftPadding) {
                // å‚ç›´ç¶²æ ¼ç·š
                for (let i = 0; i <= totalDays; i++) {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const x = leftPadding + i * dayWidth;
                    
                    line.setAttribute('x1', x);
                    line.setAttribute('y1', headerHeight);
                    line.setAttribute('x2', x);
                    line.setAttribute('y2', chartHeight);
                    line.setAttribute('class', i % 7 === 0 ? 'grid-line major' : 'grid-line');
                    svg.appendChild(line);
                }
                
                // æ°´å¹³ç¶²æ ¼ç·š
                this.tasks.forEach((task, index) => {
                    const y = headerHeight + (index + 1) * 60;
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    
                    line.setAttribute('x1', '0');
                    line.setAttribute('y1', y);
                    line.setAttribute('x2', '100%');
                    line.setAttribute('y2', y);
                    line.setAttribute('class', 'grid-line');
                    svg.appendChild(line);
                });
            }
            
            renderTaskBars(svg, startDate, totalDays, dayWidth, taskHeight, taskSpacing, headerHeight, leftPadding) {
                this.tasks.forEach((task, index) => {
                    const taskStart = new Date(task.startDate);
                    const taskEnd = new Date(task.endDate);
                    
                    // è¨ˆç®—ä»»å‹™æ¢ä½ç½®èˆ‡å°ºå¯¸
                    const startDay = Math.floor((taskStart - startDate) / (1000 * 60 * 60 * 24));
                    const duration = Math.ceil((taskEnd - taskStart) / (1000 * 60 * 60 * 24)) + 1;
                    
                    const x = leftPadding + startDay * dayWidth;
                    const y = headerHeight + index * (taskHeight + taskSpacing) + taskSpacing / 2;
                    const width = duration * dayWidth - 4; // ç•™å°é–“è·
                    
                    // å„ªå…ˆç´šé¡è‰²
                    const priorityColors = {
                        high: '#ef4444',
                        medium: '#f59e0b',
                        low: '#10b981'
                    };
                    
                    // ä»»å‹™æ¢èƒŒæ™¯
                    const taskRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    taskRect.setAttribute('x', x);
                    taskRect.setAttribute('y', y);
                    taskRect.setAttribute('width', width);
                    taskRect.setAttribute('height', taskHeight);
                    taskRect.setAttribute('fill', '#e2e8f0');
                    taskRect.setAttribute('rx', '6');
                    taskRect.setAttribute('class', 'task-bar');
                    svg.appendChild(taskRect);
                    
                    // é€²åº¦æ¢
                    const progressRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    progressRect.setAttribute('x', x);
                    progressRect.setAttribute('y', y);
                    progressRect.setAttribute('width', width * (task.progress / 100));
                    progressRect.setAttribute('height', taskHeight);
                    progressRect.setAttribute('fill', priorityColors[task.priority]);
                    progressRect.setAttribute('rx', '6');
                    svg.appendChild(progressRect);
                    
                    // ä»»å‹™åç¨±
                    const taskText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    taskText.setAttribute('x', x + 8);
                    taskText.setAttribute('y', y + taskHeight / 2 + 5);
                    taskText.setAttribute('fill', 'white');
                    taskText.setAttribute('font-size', '12');
                    taskText.setAttribute('font-weight', '500');
                    taskText.setAttribute('font-family', 'Inter, sans-serif');
                    taskText.textContent = task.name.length > 20 ? task.name.substring(0, 20) + '...' : task.name;
                    svg.appendChild(taskText);
                    
                    // é€²åº¦ç™¾åˆ†æ¯”
                    if (task.progress > 0) {
                        const progressText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        progressText.setAttribute('x', x + width - 8);
                        progressText.setAttribute('y', y + taskHeight / 2 + 4);
                        progressText.setAttribute('text-anchor', 'end');
                        progressText.setAttribute('fill', 'white');
                        progressText.setAttribute('font-size', '11');
                        progressText.setAttribute('font-weight', '600');
                        progressText.setAttribute('font-family', 'Inter, sans-serif');
                        progressText.textContent = `${task.progress}%`;
                        svg.appendChild(progressText);
                    }
                });
            }
            
            // æ™‚é–“è¨ˆç®—è¼”åŠ©å‡½æ•¸
            calculateTimeRange() {
                const taskDates = this.tasks.flatMap(task => [
                    new Date(task.startDate),
                    new Date(task.endDate)
                ]);
                
                const minDate = new Date(Math.min(...taskDates));
                const maxDate = new Date(Math.max(...taskDates));
                
                // æ“´å±•ç¯„åœä»¥æä¾›æ›´å¥½çš„è¦–è¦ºæ•ˆæœ
                const startDate = new Date(minDate);
                startDate.setDate(minDate.getDate() - 3);
                
                const endDate = new Date(maxDate);
                endDate.setDate(maxDate.getDate() + 3);
                
                const totalDays = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));
                
                return { startDate, endDate, totalDays };
            }
            
            // ä½¿ç”¨è€…é«”é©—è¼”åŠ©åŠŸèƒ½
            updateProgressDisplay(value = 0) {
                document.getElementById('progressDisplay').textContent = `${value}%`;
            }
            
            updateDateInputs() {
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(today.getDate() + 1);
                
                document.getElementById('startDate').value = today.toISOString().split('T')[0];
                document.getElementById('endDate').value = tomorrow.toISOString().split('T')[0];
            }
            
            formatDate(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('zh-TW', {
                    month: 'short',
                    day: 'numeric'
                });
            }
            
            formatShortDate(date) {
                return `${date.getMonth() + 1}/${date.getDate()}`;
            }
            
            showNotification(message, type = 'info') {
                // ç°¡å–®çš„é€šçŸ¥å¯¦ç¾
                const notification = document.createElement('div');
                notification.className = `fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-white font-medium transition-all duration-300 transform translate-x-full opacity-0`;
                
                const colors = {
                    success: 'bg-green-500',
                    error: 'bg-red-500',
                    info: 'bg-blue-500'
                };
                
                notification.classList.add(colors[type]);
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // é¡¯ç¤ºå‹•ç•«
                setTimeout(() => {
                    notification.classList.remove('translate-x-full', 'opacity-0');
                }, 100);
                
                // è‡ªå‹•éš±è—
                setTimeout(() => {
                    notification.classList.add('translate-x-full', 'opacity-0');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // è³‡æ–™åŒ¯å‡ºåŠŸèƒ½
            exportTasks() {
                const exportData = {
                    tasks: this.tasks,
                    exportDate: new Date().toISOString(),
                    version: '1.0'
                };
                
                const dataStr = JSON.stringify(exportData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `å°ˆæ¡ˆä»»å‹™_${new Date().toLocaleDateString('zh-TW').replace(/\//g, '')}.json`;
                link.click();
                
                this.showNotification('ä»»å‹™è³‡æ–™å·²åŒ¯å‡º', 'success');
            }
            
            // éš±è—å½©è›‹åŠŸèƒ½ï¼šç‚ºç”¨æˆ¶å¸¶ä¾†é©šå–œ
            setupEasterEgg() {
                const easterEgg = document.getElementById('easterEgg');
                const easterModal = document.getElementById('easterModal');
                const easterContent = document.getElementById('easterContent');
                const closeEasterBtn = document.getElementById('closeEasterBtn');
                const scoreElement = document.getElementById('productivityScore');
                
                // å½©è›‹è§¸ç™¼é‚è¼¯
                easterEgg.addEventListener('click', () => {
                    // è¨ˆç®—ç”Ÿç”¢åŠ›è©•åˆ†ï¼ˆåŸºæ–¼ä»»å‹™å®Œæˆåº¦ï¼‰
                    const averageProgress = this.tasks.length > 0 
                        ? Math.round(this.tasks.reduce((sum, task) => sum + task.progress, 0) / this.tasks.length)
                        : Math.floor(Math.random() * 30) + 70; // éš¨æ©Ÿè©•åˆ†
                    
                    scoreElement.textContent = `${averageProgress}%`;
                    
                    // é¡¯ç¤ºå½©è›‹æ¨¡æ…‹æ¡†
                    easterModal.classList.remove('hidden');
                    easterModal.classList.add('flex');
                    
                    setTimeout(() => {
                        easterContent.classList.remove('scale-95', 'opacity-0');
                        easterContent.classList.add('scale-100', 'opacity-100');
                    }, 50);
                    
                    // éŸ³æ•ˆæ¨¡æ“¬ï¼ˆè¦–è¦ºåŒ–ï¼‰
                    this.playVisualSound();
                });
                
                // é—œé–‰å½©è›‹
                closeEasterBtn.addEventListener('click', () => {
                    easterContent.classList.remove('scale-100', 'opacity-100');
                    easterContent.classList.add('scale-95', 'opacity-0');
                    
                    setTimeout(() => {
                        easterModal.classList.add('hidden');
                        easterModal.classList.remove('flex');
                    }, 300);
                });
                
                // èƒŒæ™¯é»æ“Šé—œé–‰
                easterModal.addEventListener('click', (e) => {
                    if (e.target.id === 'easterModal') {
                        closeEasterBtn.click();
                    }
                });
            }
            
            // è¦–è¦ºéŸ³æ•ˆï¼šé€éå‹•ç•«æ¨¡æ“¬éŸ³æ•ˆé«”é©—
            playVisualSound() {
                const easterEgg = document.getElementById('easterEgg');
                
                // å‰µå»ºæ¼£æ¼ªæ•ˆæœ
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const ripple = document.createElement('div');
                        ripple.style.cssText = `
                            position: fixed;
                            bottom: 20px;
                            right: 20px;
                            width: 20px;
                            height: 20px;
                            border: 2px solid #3b82f6;
                            border-radius: 50%;
                            pointer-events: none;
                            z-index: 9998;
                            animation: ripple 1s ease-out forwards;
                        `;
                        
                        document.body.appendChild(ripple);
                        
                        setTimeout(() => {
                            document.body.removeChild(ripple);
                        }, 1000);
                    }, i * 200);
                }
                
                // CSS å‹•ç•«å®šç¾©
                if (!document.querySelector('#ripple-keyframes')) {
                    const style = document.createElement('style');
                    style.id = 'ripple-keyframes';
                    style.textContent = `
                        @keyframes ripple {
                            to {
                                transform: scale(4);
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }
            }
        }
        
        // æ‡‰ç”¨å•Ÿå‹•ï¼šç­‰å¾… DOM è¼‰å…¥å®Œæˆ
        document.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹åŒ–å…¨åŸŸç”˜ç‰¹åœ–ç®¡ç†å™¨
            window.ganttManager = new GanttChartManager();
            
            // éŸ¿æ‡‰å¼è¦–çª—èª¿æ•´è™•ç†
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    ganttManager.renderGanttChart();
                }, 250); // é˜²æŠ–å‹•è™•ç†
            });
            
            // PWA æ”¯æ´æº–å‚™ï¼ˆæœªä¾†æ“´å±•ï¼‰
            if ('serviceWorker' in navigator) {
                console.log('æ­¤ç€è¦½å™¨æ”¯æ´ PWA åŠŸèƒ½');
            }
            
            console.log('å°ˆæ¡ˆæ™‚ç¨‹ç®¡ç†å·¥å…·å·²å®Œå…¨è¼‰å…¥');
        });
        
        // éŒ¯èª¤è™•ç†ï¼šå…¨åŸŸéŒ¯èª¤æ•ç²
        window.addEventListener('error', (e) => {
            console.error('æ‡‰ç”¨ç™¼ç”ŸéŒ¯èª¤:', e.error);
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            console.error('æœªè™•ç†çš„ Promise æ‹’çµ•:', e.reason);
        });
    </script>
</body>
</html>