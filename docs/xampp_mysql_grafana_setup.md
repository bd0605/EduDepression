# XAMPP/MySQL/Grafana å®Œæ•´ç’°å¢ƒè¨­å®šæŒ‡å—

æœ¬æŒ‡å—å°‡å”åŠ©æ‚¨å¾é›¶é–‹å§‹å»ºç«‹å®Œæ•´çš„è³‡æ–™åˆ†æç’°å¢ƒï¼ŒåŒ…å« XAMPPã€MySQL è³‡æ–™åº«åŠ Grafana è¦–è¦ºåŒ–å¹³å°çš„å®‰è£èˆ‡è¨­å®šï¼Œç”¨æ–¼ EduDepression å°ˆæ¡ˆçš„å­¸æ¥­å£“åŠ›èˆ‡æ†‚é¬±é¢¨éšªåˆ†æã€‚

## ğŸ“‹ ç›®éŒ„

1. [å‰ç½®éœ€æ±‚](#å‰ç½®éœ€æ±‚)
2. [XAMPP èˆ‡ MySQL è¨­å®š](#xampp-èˆ‡-mysql-è¨­å®š)
3. [Python ç’°å¢ƒé…ç½®](#python-ç’°å¢ƒé…ç½®)
4. [Grafana å®‰è£èˆ‡è¨­å®š](#grafana-å®‰è£èˆ‡è¨­å®š)
5. [è³‡æ–™è¦–è¦ºåŒ–è¨­å®š](#è³‡æ–™è¦–è¦ºåŒ–è¨­å®š)
6. [ç–‘é›£æ’è§£](#ç–‘é›£æ’è§£)
7. [é€²éšåŠŸèƒ½](#é€²éšåŠŸèƒ½)

## å‰ç½®éœ€æ±‚

åœ¨é–‹å§‹ä¹‹å‰ï¼Œè«‹ç¢ºä¿æ‚¨çš„ç³»çµ±å·²å®‰è£ä»¥ä¸‹è»Ÿé«”ï¼š

- **ä½œæ¥­ç³»çµ±**: Windows 10/11, macOS 10.15+, æˆ– Ubuntu 18.04+
- **Python**: 3.8 æˆ–æ›´æ–°ç‰ˆæœ¬
- **ç£ç¢Ÿç©ºé–“**: è‡³å°‘ 2GB å¯ç”¨ç©ºé–“
- **è¨˜æ†¶é«”**: å»ºè­° 4GB ä»¥ä¸Š RAM

## XAMPP èˆ‡ MySQL è¨­å®š

### æ­¥é©Ÿ 1: ä¸‹è¼‰ä¸¦å®‰è£ XAMPP

1. å‰å¾€ [XAMPP å®˜æ–¹ç¶²ç«™](https://www.apachefriends.org/) ä¸‹è¼‰é©åˆæ‚¨ä½œæ¥­ç³»çµ±çš„ç‰ˆæœ¬
2. åŸ·è¡Œå®‰è£ç¨‹å¼ï¼Œç¢ºä¿é¸æ“‡ä»¥ä¸‹å…ƒä»¶ï¼š
   - âœ… **Apache** (ç¶²é ä¼ºæœå™¨)
   - âœ… **MySQL** (è³‡æ–™åº«ä¼ºæœå™¨)
   - âœ… **phpMyAdmin** (è³‡æ–™åº«ç®¡ç†å·¥å…·)

### æ­¥é©Ÿ 2: å•Ÿå‹• MySQL æœå‹™

1. é–‹å•Ÿ **XAMPP Control Panel**
2. é»æ“Š MySQL æ—çš„ **"Start"** æŒ‰éˆ•
3. ç¢ºèªç‹€æ…‹é¡¯ç¤ºç‚º "Running" (ç¶ è‰²èƒŒæ™¯)

> ğŸ’¡ **å°æç¤º**: å¦‚æœ MySQL ç„¡æ³•å•Ÿå‹•ï¼Œå¯èƒ½æ˜¯é€£æ¥åŸ  3306 è¢«å…¶ä»–ç¨‹å¼å ç”¨ã€‚æ‚¨å¯ä»¥åœ¨ XAMPP ä¸­é»æ“Š "Config" â†’ "my.ini" ä¾†ä¿®æ”¹é€£æ¥åŸ è¨­å®šã€‚

### æ­¥é©Ÿ 3: å»ºç«‹è³‡æ–™åº«

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ phpMyAdminï¼ˆæ¨è–¦çµ¦åˆå­¸è€…ï¼‰**

1. é–‹å•Ÿç€è¦½å™¨ï¼Œå‰å¾€ `http://localhost/phpmyadmin/`
2. é»æ“Šå·¦å´çš„ **"æ–°å¢"** å»ºç«‹è³‡æ–™åº«
3. è³‡æ–™åº«åç¨±è¼¸å…¥ï¼š`depression_db`
4. æ’åºè¦å‰‡é¸æ“‡ï¼š`utf8mb4_unicode_ci`
5. é»æ“Š **"å»ºç«‹"**

**æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤åˆ—**

```bash
# é€£æ¥åˆ° MySQL
mysql -u root -p

# å»ºç«‹è³‡æ–™åº«
CREATE DATABASE depression_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### æ­¥é©Ÿ 4: é©—è­‰è³‡æ–™åº«è¨­å®š

åœ¨ phpMyAdmin ä¸­æ‡‰è©²èƒ½çœ‹åˆ°æ–°å»ºç«‹çš„ `depression_db` è³‡æ–™åº«ã€‚é»æ“Šè©²è³‡æ–™åº«ï¼Œç¢ºèªå¯ä»¥æ­£å¸¸è¨ªå•ã€‚

## Python ç’°å¢ƒé…ç½®

### æ­¥é©Ÿ 1: å»ºç«‹è™›æ“¬ç’°å¢ƒ

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv venv

# å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### æ­¥é©Ÿ 2: å®‰è£ç›¸ä¾å¥—ä»¶

```bash
# å®‰è£æ‰€æœ‰å¿…è¦å¥—ä»¶
pip install -r requirements.txt

# é©—è­‰å®‰è£
python test_project.py
```

### æ­¥é©Ÿ 3: åŒ¯å‡ºè³‡æ–™è‡³ MySQL

åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å°‡åˆ†æçµæœåŒ¯å‡ºè‡³ MySQLï¼š

```bash
python run_analysis.py --to-mysql
```

åŸ·è¡Œéç¨‹ä¸­ï¼Œæ‚¨å°‡çœ‹åˆ°è©³ç´°çš„é€²åº¦è³‡è¨Šï¼š

```
ğŸš€ EduDepression å­¸æ¥­å£“åŠ›èˆ‡æ†‚é¬±é¢¨éšªåˆ†æç³»çµ±
============================================================

ğŸ”§ ç’°å¢ƒè¨­å®š: è¨­å®šå­—å‹èˆ‡åŸ·è¡Œç’°å¢ƒ
  â†’ ä¸‹è¼‰ä¸­æ–‡å­—å‹æª”æ¡ˆ

ğŸ“Š è³‡æ–™é è™•ç†: è¼‰å…¥èˆ‡æ¸…ç†è³‡æ–™
  â†’ è®€å–CSVæª”æ¡ˆ
  è™•ç†å¾Œè³‡æ–™é›†å¤§å°: (27873, 15)

ğŸ“ˆ çµ±è¨ˆåˆ†æ: è¨ˆç®—ç›¸é—œæ€§èˆ‡çµ±è¨ˆæª¢å®š
  å­¸æ¥­å£“åŠ›èˆ‡æ†‚é¬±é¢¨éšªçš„ç›¸é—œä¿‚æ•¸: 0.475

ğŸ¤– æ¨¡å‹è¨“ç·´: æ©Ÿå™¨å­¸ç¿’æ¨¡å‹è¨“ç·´èˆ‡è©•ä¼°
  â†’ è¨“ç·´Logistic Regressionå’ŒRandom Forestæ¨¡å‹

ğŸ—„ï¸ è³‡æ–™åŒ¯å‡º: åŒ¯å‡ºè³‡æ–™è‡³MySQLè³‡æ–™åº«
  â†’ æ¸¬è©¦MySQLè³‡æ–™åº«é€£æ¥
  âœ… è³‡æ–™æˆåŠŸåŒ¯å‡ºè‡³ MySQLï¼
```

æˆåŠŸåŒ¯å‡ºå¾Œï¼Œå¯ä»¥åœ¨ phpMyAdmin ä¸­æŸ¥çœ‹ `student_depression` è³‡æ–™è¡¨åŠç›¸é—œè¦–åœ–ã€‚

## Grafana å®‰è£èˆ‡è¨­å®š

### æ­¥é©Ÿ 1: å®‰è£ Grafana

**Windows ç³»çµ±:**

1. å‰å¾€ [Grafana ä¸‹è¼‰é é¢](https://grafana.com/grafana/download?platform=windows)
2. ä¸‹è¼‰ Windows å®‰è£ç¨‹å¼
3. åŸ·è¡Œå®‰è£ç¨‹å¼ï¼Œä½¿ç”¨é è¨­è¨­å®šå³å¯

**macOS ç³»çµ±:**

```bash
# ä½¿ç”¨ Homebrew å®‰è£
brew update
brew install grafana

# å•Ÿå‹• Grafana æœå‹™
brew services start grafana
```

**Linux (Ubuntu/Debian) ç³»çµ±:**

```bash
# æ–°å¢ Grafana å®˜æ–¹å¥—ä»¶åº«
sudo apt-get install -y software-properties-common
wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -
sudo add-apt-repository "deb https://packages.grafana.com/oss/deb stable main"

# å®‰è£ Grafana
sudo apt-get update
sudo apt-get install grafana

# å•Ÿå‹•æœå‹™
sudo systemctl start grafana-server
sudo systemctl enable grafana-server
```

### æ­¥é©Ÿ 2: é¦–æ¬¡ç™»å…¥è¨­å®š

1. é–‹å•Ÿç€è¦½å™¨ï¼Œå‰å¾€ `http://localhost:3000/`
2. ä½¿ç”¨é è¨­å¸³è™Ÿç™»å…¥ï¼š
   - å¸³è™Ÿï¼š`admin`
   - å¯†ç¢¼ï¼š`admin`
3. ç³»çµ±æœƒè¦æ±‚è¨­å®šæ–°å¯†ç¢¼ï¼Œè«‹é¸æ“‡ä¸€å€‹å®‰å…¨çš„å¯†ç¢¼

### æ­¥é©Ÿ 3: è¨­å®š MySQL è³‡æ–™ä¾†æº

1. é»æ“Šå·¦å´é½’è¼ªåœ–ç¤º âš™ï¸ â†’ **"Data Sources"**
2. é»æ“Š **"Add data source"**
3. é¸æ“‡ **"MySQL"**
4. å¡«å¯«é€£æ¥è³‡è¨Šï¼š

```
Name: EduDepression-MySQL
Host: localhost:3306
Database: depression_db
Username: root
Password: (æ‚¨çš„MySQLå¯†ç¢¼ï¼Œé€šå¸¸ç‚ºç©º)
Session timezone: +08:00
```

5. é»æ“Š **"Save & Test"** ç¢ºèªé€£æ¥æˆåŠŸ

> âœ… **æˆåŠŸè¨Šæ¯**: å¦‚æœçœ‹åˆ°ç¶ è‰²çš„ "Database Connection OK"ï¼Œè¡¨ç¤ºè¨­å®šæ­£ç¢ºã€‚

## è³‡æ–™è¦–è¦ºåŒ–è¨­å®š

### æ­¥é©Ÿ 1: åŒ¯å…¥é è¨­å„€è¡¨æ¿

1. é»æ“Šå·¦å´ **"Dashboards"** â†’ å³å´ **"New"** å±•é–‹å¾Œé»æ“Š **"Import"**
2. é»æ“Š **"Upload .json file"**
3. é¸æ“‡å°ˆæ¡ˆä¸­çš„ `grafana/dashboard.json` æª”æ¡ˆ
4. è¨­å®šå„€è¡¨æ¿è³‡è¨Šï¼š
   - **Name**: å­¸æ¥­å£“åŠ›èˆ‡æ†‚é¬±é¢¨éšªåˆ†æå„€è¡¨æ¿
   - **Folder**: General
   - **Data source**: é¸æ“‡å‰›æ‰å»ºç«‹çš„ EduDepression-MySQL
5. é»æ“Š **"Import"**

### æ­¥é©Ÿ 2: ç­è§£å„€è¡¨æ¿é¢æ¿

åŒ¯å…¥æˆåŠŸå¾Œï¼Œæ‚¨å°‡çœ‹åˆ°ä»¥ä¸‹è¦–è¦ºåŒ–é¢æ¿ï¼š

#### ğŸ“Š ä¸åŒå­¸æ¥­å£“åŠ›æ°´å¹³çš„æ†‚é¬±æ¯”ä¾‹

- **è³‡æ–™ä¾†æº**: `v_depression_by_pressure` è¦–åœ–
- **åœ–è¡¨é¡å‹**: é•·æ¢åœ–
- **é¡¯ç¤ºå…§å®¹**: ä½å£“åŠ›ã€ä¸­å£“åŠ›ã€é«˜å£“åŠ›ä¸‰çµ„çš„æ†‚é¬±æ¯”ä¾‹
- **é—œéµæ´å¯Ÿ**: å¯ä»¥æ¸…æ¥šçœ‹å‡ºå£“åŠ›èˆ‡æ†‚é¬±é¢¨éšªçš„æ­£ç›¸é—œé—œä¿‚

#### ğŸ“ˆ å„å­¸æ­·å±¤ç´šçš„å­¸æ¥­å£“åŠ›èˆ‡æ†‚é¬±æ¯”ä¾‹

- **è³‡æ–™ä¾†æº**: `v_pressure_by_degree` è¦–åœ–
- **åœ–è¡¨é¡å‹**: çµ„åˆåœ–ï¼ˆé•·æ¢åœ– + æŠ˜ç·šåœ–ï¼‰
- **é¡¯ç¤ºå…§å®¹**: ä¸åŒå­¸æ­·å±¤ç´šçš„å¹³å‡å£“åŠ›å€¼èˆ‡æ†‚é¬±æ¯”ä¾‹
- **é—œéµæ´å¯Ÿ**: åˆ†æå­¸æ­·èˆ‡å¿ƒç†å¥åº·çš„é—œè¯æ€§

### æ­¥é©Ÿ 3: è‡ªè¨‚é¢æ¿å’ŒæŸ¥è©¢

å¦‚æœæ‚¨æƒ³æ–°å¢è‡ªè¨‚çš„è¦–è¦ºåŒ–é¢æ¿ï¼š

1. é»æ“Šå„€è¡¨æ¿å³ä¸Šè§’çš„ **"Add panel"**
2. é¸æ“‡é¢æ¿é¡å‹ï¼ˆä¾‹å¦‚ï¼šTime seriesã€Statã€Table ç­‰ï¼‰
3. åœ¨æŸ¥è©¢ç·¨è¼¯å™¨ä¸­è¼¸å…¥ SQLï¼š

```sql
-- ç¯„ä¾‹ï¼šæ€§åˆ¥èˆ‡æ†‚é¬±é¢¨éšªåˆ†æ
SELECT
    Gender,
    COUNT(*) as total_count,
    SUM(Depression) as depression_count,
    ROUND(AVG(Depression) * 100, 1) as depression_rate
FROM student_depression
GROUP BY Gender
ORDER BY depression_rate DESC;
```

4. è¨­å®šè¦–è¦ºåŒ–é¸é …ï¼ˆè»¸æ¨™ç±¤ã€é¡è‰²ã€åœ–ä¾‹ç­‰ï¼‰
5. é»æ“Š **"Apply"** å„²å­˜é¢æ¿

## ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ 1: ç„¡æ³•é€£æ¥åˆ° MySQL

**ç—‡ç‹€**: Grafana é¡¯ç¤º "database connection failed"

**è§£æ±ºæ–¹æ¡ˆ**:

1. ç¢ºèª XAMPP ä¸­çš„ MySQL æœå‹™æ­£åœ¨é‹è¡Œ
2. æª¢æŸ¥é€£æ¥åŸ æ˜¯å¦æ­£ç¢ºï¼ˆé è¨­ç‚º 3306ï¼‰
3. ç¢ºèªè³‡æ–™åº«åç¨±æ‹¼å¯«æ­£ç¢º
4. æª¢æŸ¥ MySQL ä½¿ç”¨è€…æ¬Šé™

### å¸¸è¦‹å•é¡Œ 2: åœ–è¡¨æ²’æœ‰é¡¯ç¤ºè³‡æ–™

**ç—‡ç‹€**: é¢æ¿é¡¯ç¤º "No data" æˆ–ç©ºç™½

**è§£æ±ºæ–¹æ¡ˆ**:

1. ç¢ºèªå·²åŸ·è¡Œ `python run_analysis.py --to-mysql`
2. åœ¨ phpMyAdmin ä¸­æª¢æŸ¥è³‡æ–™è¡¨æ˜¯å¦æœ‰è³‡æ–™
3. æª¢æŸ¥ SQL æŸ¥è©¢èªæ³•æ˜¯å¦æ­£ç¢º
4. ç¢ºèªæ™‚é–“ç¯„åœè¨­å®šåˆé©

### å¸¸è¦‹å•é¡Œ 3: ä¸­æ–‡å­—å‹é¡¯ç¤ºç•°å¸¸

**ç—‡ç‹€**: åœ–è¡¨ä¸­çš„ä¸­æ–‡é¡¯ç¤ºç‚ºæ–¹æ¡†æˆ–äº‚ç¢¼

**è§£æ±ºæ–¹æ¡ˆ**:

1. åœ¨ Grafana ä¸­èª¿æ•´é¢æ¿çš„å­—å‹è¨­å®š
2. ç¢ºèªç€è¦½å™¨æ”¯æ´ä¸­æ–‡å­—å‹
3. å¯ä»¥ä¿®æ”¹æŸ¥è©¢ï¼Œä½¿ç”¨è‹±æ–‡æ¨™ç±¤ä»£æ›¿ä¸­æ–‡

### å¸¸è¦‹å•é¡Œ 4: æ•ˆèƒ½å•é¡Œ

**ç—‡ç‹€**: å„€è¡¨æ¿è¼‰å…¥ç·©æ…¢

**è§£æ±ºæ–¹æ¡ˆ**:

1. ç‚ºå¸¸ç”¨æŸ¥è©¢æ¬„ä½å»ºç«‹è³‡æ–™åº«ç´¢å¼•
2. èª¿æ•´ Grafana çš„é‡æ–°æ•´ç†é »ç‡
3. ä½¿ç”¨è¦–åœ–ç°¡åŒ–è¤‡é›œæŸ¥è©¢
4. é™åˆ¶æŸ¥è©¢çš„è³‡æ–™ç¯„åœ

## é€²éšåŠŸèƒ½

### å»ºç«‹è­¦å ±è¦å‰‡

Grafana æ”¯æ´è¨­å®šè­¦å ±ï¼Œç•¶ç‰¹å®šæŒ‡æ¨™è¶…éé–¾å€¼æ™‚ç™¼é€é€šçŸ¥ï¼š

1. ç·¨è¼¯é¢æ¿ï¼Œåˆ‡æ›åˆ° **"Alert"** æ¨™ç±¤
2. é»æ“Š **"Create Alert"**
3. è¨­å®šè­¦å ±æ¢ä»¶ï¼ˆä¾‹å¦‚ï¼šæ†‚é¬±æ¯”ä¾‹è¶…é 80%ï¼‰
4. é…ç½®é€šçŸ¥ç®¡é“ï¼ˆEmailã€Slack ç­‰ï¼‰

### åŒ¯å‡ºå’Œåˆ†äº«

**åŒ¯å‡ºå„€è¡¨æ¿**:

- é»æ“Š Share â†’ Export â†’ Save to file

**åˆ†äº«å„€è¡¨æ¿**:

- é»æ“Š Share â†’ Link â†’ è¤‡è£½é€£çµçµ¦å…¶ä»–ä½¿ç”¨è€…

**åµŒå…¥åˆ°ç¶²é **:

- é»æ“Š Share â†’ Embed â†’ è¤‡è£½ iframe ç¨‹å¼ç¢¼

### è‡ªå‹•å‚™ä»½

å®šæœŸå‚™ä»½æ‚¨çš„ Grafana è¨­å®šå’Œ MySQL è³‡æ–™ï¼š

```bash
# å‚™ä»½ MySQL è³‡æ–™
mysqldump -u root -p depression_db > backup_$(date +%Y%m%d).sql

# å‚™ä»½ Grafana è¨­å®šï¼ˆLinux/macOSï¼‰
sudo cp -r /etc/grafana/ ~/grafana_backup_$(date +%Y%m%d)/
```

## ğŸ¯ å­¸ç¿’æˆæœé©—è­‰

å®Œæˆæœ¬æŒ‡å—å¾Œï¼Œæ‚¨æ‡‰è©²èƒ½å¤ ï¼š

- âœ… æˆåŠŸè¨­å®š XAMPP å’Œ MySQL ç’°å¢ƒ
- âœ… å°‡ Python åˆ†æçµæœåŒ¯å‡ºè‡³è³‡æ–™åº«
- âœ… å®‰è£ä¸¦è¨­å®š Grafana è¦–è¦ºåŒ–å¹³å°
- âœ… å»ºç«‹å°ˆæ¥­çš„è³‡æ–™åˆ†æå„€è¡¨æ¿
- âœ… è§£é‡‹å­¸æ¥­å£“åŠ›èˆ‡æ†‚é¬±é¢¨éšªçš„è¦–è¦ºåŒ–çµæœ
- âœ… è‡ªè¨‚æŸ¥è©¢å’Œå»ºç«‹æ–°çš„è¦–è¦ºåŒ–é¢æ¿

## ğŸ“š å»¶ä¼¸å­¸ç¿’è³‡æº

- [Grafana å®˜æ–¹æ–‡æª”](https://grafana.com/docs/)
- [MySQL å­¸ç¿’æŒ‡å—](https://dev.mysql.com/doc/)
- [è³‡æ–™è¦–è¦ºåŒ–æœ€ä½³å¯¦å‹™](https://www.tableau.com/learn/articles/data-visualization)
- [æ ¡åœ’å¿ƒç†å¥åº·ç ”ç©¶æ–¹æ³•](https://www.apa.org/science/resources)

## ğŸ¤ æŠ€è¡“æ”¯æ´

å¦‚æœåœ¨è¨­å®šéç¨‹ä¸­é‡åˆ°å•é¡Œï¼š

1. æŸ¥çœ‹å°ˆæ¡ˆçš„ [Issue é é¢](https://github.com/bd0605/EduDepression/issues)
2. åƒè€ƒæœ¬æŒ‡å—çš„ç–‘é›£æ’è§£ç« ç¯€
3. åœ¨ç¤¾ç¾¤è«–å£‡å°‹æ±‚å”åŠ©
4. è¯ç¹«å°ˆæ¡ˆç¶­è­·è€…
